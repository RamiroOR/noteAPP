{"ast":null,"code":"var _jsxFileName = \"D:\\\\mern-stack\\\\frontend\\\\src\\\\components\\\\NotesList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { format } from 'timeago.js';\nimport { Link } from 'react-router-dom';\nimport { ConfirmationModal } from './ConfirmationModal'; // Adjust the import path accordingly\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class NotesList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      notes: [],\n      isLoading: true,\n      error: null,\n      modalOpen: false,\n      noteToDelete: null\n    };\n    this.openDeleteModal = noteId => {\n      this.setState({\n        modalOpen: true,\n        noteToDelete: noteId\n      });\n    };\n    this.closeModal = () => {\n      this.setState({\n        modalOpen: false,\n        noteToDelete: null\n      });\n    };\n    this.deleteNote = async () => {\n      const {\n        noteToDelete\n      } = this.state;\n      try {\n        await axios.delete(`http://localhost:4000/api/notes/${noteToDelete}`);\n        this.getNotes();\n      } catch (error) {\n        console.error('Failed to delete the note');\n      }\n      this.closeModal();\n    };\n  }\n  componentDidMount() {\n    this.getNotes();\n  }\n  async getNotes() {\n    try {\n      const res = await axios.get('http://localhost:4000/api/notes');\n      this.setState({\n        notes: res.data,\n        isLoading: false\n      });\n    } catch (error) {\n      this.setState({\n        error: 'Failed to load notes',\n        isLoading: false\n      });\n    }\n  }\n  render() {\n    const {\n      isLoading,\n      error,\n      notes,\n      modalOpen\n    } = this.state;\n    if (isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading notes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 20\n      }, this);\n    }\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: notes.map(note => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header d-flex justify-content-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: note.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                className: \"btn btn-secondary\",\n                to: `/edit/${note._id}`,\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: note.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: note.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: format(note.date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-footer\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: () => this.openDeleteModal(note._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this)\n        }, note._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n        isOpen: modalOpen,\n        title: \"Delete Note\",\n        body: \"Are you sure you want to delete this note?\",\n        onConfirm: this.deleteNote,\n        onCancel: this.closeModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","axios","format","Link","ConfirmationModal","jsxDEV","_jsxDEV","NotesList","constructor","args","state","notes","isLoading","error","modalOpen","noteToDelete","openDeleteModal","noteId","setState","closeModal","deleteNote","delete","getNotes","console","componentDidMount","res","get","data","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","note","title","to","_id","content","author","date","onClick","isOpen","body","onConfirm","onCancel"],"sources":["D:/mern-stack/frontend/src/components/NotesList.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { format } from 'timeago.js';\r\nimport { Link } from 'react-router-dom';\r\nimport { ConfirmationModal } from './ConfirmationModal'; // Adjust the import path accordingly\r\n\r\nexport default class NotesList extends Component {\r\n    state = {\r\n        notes: [],\r\n        isLoading: true,\r\n        error: null,\r\n        modalOpen: false,\r\n        noteToDelete: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getNotes()\r\n    }\r\n\r\n    async getNotes() {\r\n        try {\r\n            const res = await axios.get('http://localhost:4000/api/notes')\r\n            this.setState({ notes: res.data, isLoading: false })\r\n        } catch (error) {\r\n            this.setState({ error: 'Failed to load notes', isLoading: false })\r\n        }\r\n    }\r\n\r\n    openDeleteModal = (noteId) => {\r\n        this.setState({ modalOpen: true, noteToDelete: noteId });\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({ modalOpen: false, noteToDelete: null });\r\n    }\r\n\r\n    deleteNote = async () => {\r\n        const { noteToDelete } = this.state;\r\n        try {\r\n            await axios.delete(`http://localhost:4000/api/notes/${noteToDelete}`);\r\n            this.getNotes();\r\n        } catch (error) {\r\n            console.error('Failed to delete the note');\r\n        }\r\n        this.closeModal();\r\n    }\r\n\r\n    render() {\r\n        const { isLoading, error, notes, modalOpen } = this.state;\r\n\r\n        if (isLoading) {\r\n            return <p>Loading notes...</p>\r\n        }\r\n\r\n        if (error) {\r\n            return <p>{error}</p>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    {notes.map(note => (\r\n                        <div className=\"col-md-4 p-2\" key={note._id}>\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header d-flex justify-content-between\">\r\n                                    <h5>{note.title}</h5>\r\n                                    <Link className=\"btn btn-secondary\" to={`/edit/${note._id}`}>\r\n                                        Edit\r\n                                    </Link>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <p>{note.content}</p>\r\n                                    <p>{note.author}</p>\r\n                                    <p>{format(note.date)}</p>\r\n                                </div>\r\n                                <div className=\"card-footer\">\r\n                                    <button\r\n                                        className=\"btn btn-danger\"\r\n                                        onClick={() => this.openDeleteModal(note._id)}\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <ConfirmationModal\r\n                    isOpen={modalOpen}\r\n                    title=\"Delete Note\"\r\n                    body=\"Are you sure you want to delete this note?\"\r\n                    onConfirm={this.deleteNote}\r\n                    onCancel={this.closeModal}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}