{"ast":null,"code":"var _jsxFileName = \"D:\\\\mern-stack\\\\frontend\\\\src\\\\components\\\\CreateNote.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateNote() {\n  _s();\n  const [state, setState] = useState({\n    users: [],\n    userSelected: '',\n    title: '',\n    content: '',\n    date: new Date(),\n    editing: false,\n    _id: ''\n  });\n  const {\n    id\n  } = useParams(); // Access route parameter\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await axios.get('http://localhost:4000/api/users');\n      setState(prevState => ({\n        ...prevState,\n        users: res.data,\n        userSelected: res.data[0].username\n      }));\n      if (id) {\n        const noteRes = await axios.get(`http://localhost:4000/api/notes/${id}`);\n        setState(prevState => ({\n          ...prevState,\n          title: noteRes.data.title,\n          content: noteRes.data.content,\n          date: new Date(noteRes.data.date),\n          userSelected: noteRes.data.author,\n          editing: true,\n          _id: id\n        }));\n      }\n    };\n    fetchData();\n  }, [id]);\n  const onSubmit = async e => {\n    e.preventDefault();\n    const newNote = {\n      title: state.title,\n      content: state.content,\n      date: state.date,\n      author: state.userSelected\n    };\n    if (state.editing) {\n      await axios.put(`http://localhost:4000/api/notes/${state._id}`, newNote);\n    } else {\n      await axios.post('http://localhost:4000/api/notes', newNote);\n    }\n    window.location.href = '/';\n  };\n  const onInputChange = e => {\n    setState(prevState => ({\n      ...prevState,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const onChangeDate = date => {\n    setState(prevState => ({\n      ...prevState,\n      date\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-6 offset-md-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card card-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Create a Note\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          name: \"userSelected\",\n          onChange: onInputChange,\n          value: state.userSelected,\n          children: state.users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: user.username,\n            children: user.username\n          }, user._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Title\",\n          name: \"title\",\n          onChange: onInputChange,\n          required: true,\n          value: state.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control\",\n          placeholder: \"Content\",\n          name: \"content\",\n          onChange: onInputChange,\n          required: true,\n          value: state.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          className: \"form-control\",\n          selected: state.date,\n          onChange: onChangeDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n_s(CreateNote, \"Gp41JnkDi2UoTpIYV3YTGbMJI54=\", false, function () {\n  return [useParams];\n});\n_c = CreateNote;\nvar _c;\n$RefreshReg$(_c, \"CreateNote\");","map":{"version":3,"names":["React","useState","useEffect","axios","DatePicker","useParams","jsxDEV","_jsxDEV","CreateNote","_s","state","setState","users","userSelected","title","content","date","Date","editing","_id","id","fetchData","res","get","prevState","data","username","noteRes","author","onSubmit","e","preventDefault","newNote","put","post","window","location","href","onInputChange","target","name","value","onChangeDate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","map","user","type","placeholder","required","selected","_c","$RefreshReg$"],"sources":["D:/mern-stack/frontend/src/components/CreateNote.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default function CreateNote() {\r\n    const [state, setState] = useState({\r\n        users: [],\r\n        userSelected: '',\r\n        title: '',\r\n        content:'',\r\n        date: new Date(),\r\n        editing: false,\r\n        _id: ''\r\n    });\r\n\r\n    const { id } = useParams(); // Access route parameter\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const res = await axios.get('http://localhost:4000/api/users');\r\n            setState(prevState => ({\r\n                ...prevState,\r\n                users: res.data,\r\n                userSelected: res.data[0].username\r\n            }));\r\n\r\n            if (id) {\r\n                const noteRes = await axios.get(`http://localhost:4000/api/notes/${id}`);\r\n                setState(prevState => ({\r\n                    ...prevState,\r\n                    title: noteRes.data.title,\r\n                    content: noteRes.data.content,\r\n                    date: new Date(noteRes.data.date),\r\n                    userSelected: noteRes.data.author,\r\n                    editing: true,\r\n                    _id: id\r\n                }));\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [id]);\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const newNote = {\r\n            title: state.title,\r\n            content: state.content,\r\n            date: state.date,\r\n            author: state.userSelected\r\n        };\r\n\r\n        if (state.editing) {\r\n            await axios.put(`http://localhost:4000/api/notes/${state._id}`, newNote);\r\n        } else {\r\n            await axios.post('http://localhost:4000/api/notes', newNote);\r\n        }\r\n\r\n        window.location.href = '/';\r\n    };\r\n\r\n    const onInputChange = (e) => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const onChangeDate = date => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            date\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"col-md-6 offset-md-3\">\r\n            <div className=\"card card-body\">\r\n                <h4>Create a Note</h4>\r\n                <div className=\"form-group\">\r\n                    <select \r\n                        className=\"form-control\"\r\n                        name=\"userSelected\"\r\n                        onChange={onInputChange}\r\n                        value={state.userSelected}\r\n                    >\r\n                        {state.users.map(user => \r\n                            <option key={user._id} value={user.username}>\r\n                                {user.username}\r\n                            </option>\r\n                        )}\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        placeholder=\"Title\" \r\n                        name=\"title\"\r\n                        onChange={onInputChange}\r\n                        required\r\n                        value={state.title} \r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <textarea \r\n                        className=\"form-control\"\r\n                        placeholder=\"Content\"\r\n                        name=\"content\"\r\n                        onChange={onInputChange}\r\n                        required\r\n                        value={state.content}\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <DatePicker \r\n                        className=\"form-control\" \r\n                        selected={state.date}\r\n                        onChange={onChangeDate}\r\n                    />\r\n                </div>\r\n\r\n                <form onSubmit={onSubmit}>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">\r\n                        Save\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}